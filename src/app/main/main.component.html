<div class="container">
  <form [formGroup]="user" (ngSubmit)="onSubmit()" class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-7 col-lg-5 col-xl-4">
      <div class="content-container">
        <h3 class="form-group font-weight-bold">
          <label>Logged In User</label>
        </h3>
        <div class="form-group">
          <label
            for="inputEmail"
            [class.text-danger]="user.controls.email.errors && (!user.controls.email.pristine || user.controls.email.touched)"
          >Email address</label>
          <input
            autofocus
            type="email"
            class="form-control"
            [class.is-invalid]="user.controls.email.errors && (!user.controls.email.pristine || user.controls.email.touched)"
            id="inputEmail"
            placeholder="Enter email"
            formControlName="email"
            [readonly]="!editOn"
          >
          <div class="invalid-feedback">
            <span *ngIf="lodGet(user.controls.email.errors, 'required') || lodGet(user.controls.email.errors, 'registration-email-is-required')">Enter email</span>
            <span *ngIf="lodGet(user.controls.email.errors, 'email') || lodGet(user.controls.email.errors, 'registration-email-is-invalid')">Email is invalid</span>
            <span *ngIf="lodGet(user.controls.email.errors, 'registration-email-is-already-taken')">This email is already registered</span>
          </div>
        </div>
        <div class="form-group">
          <label
            for="inputPassword"
          >Password</label>
          <input
            tabindex="-1"
            type="password"
            class="form-control"
            id="inputPassword"
            placeholder="Password"
            formControlName="password"
            readonly
          >
        </div>
        <div class="form-group">
          <label
            for="inputFirstName"
            [class.text-danger]="user.controls.firstName.errors && (!user.controls.firstName.pristine || user.controls.firstName.touched)"
          >First Name</label>
          <input
            type="text"
            class="form-control is-invalid"
            [class.is-invalid]="user.controls.firstName.errors && (!user.controls.firstName.pristine || user.controls.firstName.touched)"
            id="inputFirstName"
            placeholder="Enter first name"
            formControlName="firstName"
            [readonly]="!editOn"
          >
          <div class="invalid-feedback">
            <span *ngIf="lodGet(user.controls.firstName.errors, 'required') || lodGet(user.controls.firstName.errors, 'registration-first-name-is-required')">
              Enter first name
            </span>
          </div>
        </div>
        <div class="form-group">
          <label
            for="inputLastName"
            [class.text-danger]="user.controls.lastName.errors && (!user.controls.lastName.pristine || user.controls.lastName.touched)"
          >Last Name</label>
          <input
            type="text"
            class="form-control is-invalid"
            [class.is-invalid]="user.controls.lastName.errors && (!user.controls.lastName.pristine || user.controls.lastName.touched)"
            id="inputLastName"
            placeholder="Enter last name"
            formControlName="lastName"
            [readonly]="!editOn"
          >
          <div class="invalid-feedback">
            <span *ngIf="lodGet(user.controls.lastName.errors, 'required') || lodGet(user.controls.lastName.errors, 'registration-last-name-is-required')">
              Enter last name
            </span>
          </div>
        </div>
        <div class="form-group">
          <label
            for="inputPhoneNumber"
            [class.text-danger]="user.controls.phoneNumber.errors && (!user.controls.phoneNumber.pristine || user.controls.phoneNumber.touched)"
          >Phone Number</label>
          <input
            type="text"
            class="form-control is-invalid"
            [class.is-invalid]="user.controls.phoneNumber.errors && (!user.controls.phoneNumber.pristine || user.controls.phoneNumber.touched)"
            id="inputPhoneNumber"
            placeholder="Enter phone number"
            formControlName="phoneNumber"
            [readonly]="!editOn"
          >
          <div class="invalid-feedback">
            <span *ngIf="lodGet(user.controls.phoneNumber.errors, 'invalid') || lodGet(user.controls.phoneNumber.errors, 'registration-phone-number-is-invalid')">
              Phone number is incorrect
            </span>
          </div>
        </div>
        <div class="form-group mb-0">
          <button *ngIf="editOn" type="submit" class="btn btn-primary float-right">Save</button>
          <button
            type="button"
            class="btn"
            [ngClass]="{ 'btn-primary': !editOn, 'btn-link': editOn, 'edit-button': editOn }"
            (click)="onClickEdit()"
          >{{!editOn ? 'Edit' : 'Cancel editing'}}</button>
        </div>
      </div>
    </div>
  </form>
</div>

